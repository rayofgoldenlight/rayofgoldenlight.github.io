(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9035:(e,r,t)=>{Promise.resolve().then(t.bind(t,9547))},9547:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var n=t(5155),c=t(2115);let l={a:1,b:1,c:0};function u(){let e=(0,c.useRef)(null),[r,t]=(0,c.useState)("x^2+x-4"),[u,a]=(0,c.useState)(l),o=(0,c.useRef)(new Float32Array(1e3)),i=(0,c.useRef)(new Float32Array(1e3)),s=(0,c.useRef)(new Float32Array(1e3)),f=(0,c.useRef)(new Uint8Array(1e3)),d=(0,c.useRef)(0),h=(0,c.useRef)(new Float32Array(1e3)),x=(0,c.useRef)(new Float32Array(1e3)),p=(0,c.useRef)(new Float32Array(1e3)),g=(0,c.useRef)(0),y=(0,c.useRef)(0),b=(0,c.useRef)(10),m=(0,c.useRef)(!0),w=(0,c.useRef)(!1),R=(0,c.useRef)(0),F=(0,c.useRef)(null),k=(0,c.useRef)(1),v=(0,c.useRef)(new Float32Array(1e3)),M=(0,c.useRef)(new Float32Array(1e3)),A=(0,c.useRef)(new Float32Array(1e3)),S=(0,c.useRef)(new Uint8Array(1e3)),C=(0,c.useRef)(0),T=(0,c.useRef)(0),P=(0,c.useRef)(new Float32Array(900)),j=(0,c.useRef)(null),E=(0,c.useRef)((e,r,t,n)=>e),I=(0,c.useRef)(null);(0,c.useEffect)(()=>{let e=document.createElement("canvas");e.width=e.height=44;let r=e.getContext("2d");r.fillStyle="#00008B",r.beginPath(),r.arc(e.width/2,e.height/2,20,0,2*Math.PI),r.fill(),r.strokeStyle="#fff",r.lineWidth=2,r.stroke(),I.current=e},[]),(0,c.useEffect)(()=>{try{try{E.current=Function("x","a","b","c","\n          const {sin, cos, tan, abs, sqrt} = Math;\n          return ".concat(r.replace(/^y\s*=\s*/,"").replace(/\^/g,"**"),";\n          "))}catch(e){E.current=(e,r,t,n)=>e}let e=new Float32Array(900),t=new Path2D;for(let r=0;r<900;r++){let n=(r-450)/20,c=E.current(n,u.a,u.b,u.c);isFinite(c)||(c=0),e[r]=c;let l=300-20*c;0===r?t.moveTo(r,l):t.lineTo(r,l)}P.current=e,j.current=t}catch(e){E.current=(e,r,t,n)=>e,j.current=null}},[r,u]);let B=()=>{if(!m.current)return;m.current=!1,w.current=!0,R.current=1;let e=E.current;for(let r=0;r<d.current;r++){if(!f.current[r])continue;let t=e(o.current[r],u.a,u.b,u.c);3.5>=Math.abs(i.current[r]-t)&&(f.current[r]=0,y.current++,g.current<1e3&&(h.current[g.current]=o.current[r],x.current[g.current]=i.current[r],p.current[g.current]=.2,g.current++))}setTimeout(()=>w.current=!1,200)};return(0,c.useEffect)(()=>{let e=e=>{"Enter"===e.key&&B()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[B]),(0,c.useEffect)(()=>{let r=e.current;if(!r)return;let t=r.getContext("2d");if(!t)return;let n=document.createElement("canvas");n.width=900,n.height=600;let c=n.getContext("2d"),l=c.createLinearGradient(0,0,0,600);l.addColorStop(0,"#87ceeb"),l.addColorStop(.6,"#00bfff"),l.addColorStop(1,"#f0e68c"),c.fillStyle=l,c.fillRect(0,0,900,600),c.strokeStyle="rgba(255,255,255,0.3)",c.lineWidth=1;for(let e=0;e<900;e+=20)c.beginPath(),c.moveTo(e,0),c.lineTo(e,600),c.stroke();for(let e=0;e<600;e+=20)c.beginPath(),c.moveTo(0,e),c.lineTo(900,e),c.stroke();c.strokeStyle="#fff",c.lineWidth=2,c.beginPath(),c.moveTo(0,300),c.lineTo(900,300),c.stroke(),c.beginPath(),c.moveTo(450,0),c.lineTo(450,600),c.stroke();let u=performance.now(),a=0,P=e=>{let r=(e-u)/1e3;if(u=e,t.drawImage(n,0,0),b.current>0){let r=50+30*Math.sin(e/300),n=t.createRadialGradient(450,300,0,450,300,r);n.addColorStop(0,"rgba(255,255,0,0.3)"),n.addColorStop(1,"rgba(255,255,0,0)"),t.fillStyle=n,t.beginPath(),t.arc(450,300,r,0,2*Math.PI),t.fill()}if((a+=r)>=6){a-=6;for(let e=0;e<k.current&&!(d.current>=1e3);e++){let e=0,r=0;switch(Math.floor(4*Math.random())){case 0:e=-20,r=20*Math.random()-10;break;case 1:e=20,r=20*Math.random()-10;break;case 2:r=-15,e=30*Math.random()-15;break;case 3:r=15,e=30*Math.random()-15}o.current[d.current]=e,i.current[d.current]=r,s.current[d.current]=3,f.current[d.current]=1,d.current++}}Math.floor(e/4e4)>Math.floor((e-1e3*r)/4e4)&&(k.current+=2);for(let e=0;e<d.current;e++){if(!f.current[e])continue;let t=-o.current[e],n=-i.current[e],c=Math.sqrt(t*t+n*n);c>0&&(o.current[e]+=t/c*s.current[e]*r,i.current[e]+=n/c*s.current[e]*r),.1>Math.abs(o.current[e])&&.1>Math.abs(i.current[e])&&(f.current[e]=0,b.current=Math.max(0,b.current-1))}for(let e=0;e<C.current;e++)if(S.current[e]&&(A.current[e]-=r,A.current[e]<=0)){S.current[e]=0;for(let r=0;r<d.current;r++){if(!f.current[r])continue;let t=o.current[r]-v.current[e],n=i.current[r]-M.current[e];6>=Math.sqrt(t*t+n*n)&&(f.current[r]=0,y.current++)}}m.current||(R.current=Math.max(0,R.current-r),0===R.current&&(m.current=!0)),T.current>0&&(T.current=Math.max(0,T.current-r));let c=I.current;if(b.current>0&&c)for(let e=0;e<d.current;e++){if(!f.current[e])continue;let r=450+20*o.current[e],n=300-20*i.current[e];t.drawImage(c,r-c.width/2,n-c.height/2)}else d.current=0;for(let e=0;e<g.current;e++){if(p.current[e]<=0)continue;p.current[e]-=r;let n=p.current[e]/.2,c=450+20*h.current[e],l=300-20*x.current[e];t.fillStyle="rgba(255,255,0,".concat(n,")"),t.beginPath(),t.arc(c,l,16,0,2*Math.PI),t.fill()}let l=0;for(let e=0;e<g.current;e++)p.current[e]>0&&(h.current[l]=h.current[e],x.current[l]=x.current[e],p.current[l]=p.current[e],l++);g.current=l;for(let e=0;e<C.current;e++){if(!S.current[e])continue;let r=450+20*v.current[e],n=300-20*M.current[e],c=120*(1-A.current[e]/.3);t.strokeStyle="yellow",t.lineWidth=2,t.beginPath(),t.arc(r,n,c,0,2*Math.PI),t.stroke()}t.strokeStyle=w.current?"#FFFF00":"#FF4500",t.lineWidth=3,j.current&&t.stroke(j.current),t.fillStyle="rgba(0,0,0,0.5)",t.fillRect(740,10,150,110),t.fillStyle="#fff",t.font="18px Arial",t.textAlign="right",t.fillText("Points: ".concat(y.current),880,30),t.fillText("Health: ".concat(b.current),880,55),t.fillText("Laser CD: ".concat(R.current.toFixed(1),"s"),880,80),t.fillText("Bomb CD: ".concat(T.current.toFixed(1),"s"),880,105),F.current&&(t.fillStyle="#fff",t.font="14px Arial",t.textAlign="left",t.fillText("x: ".concat(F.current.x.toFixed(2),", y: ").concat(F.current.y.toFixed(2)),10,590)),requestAnimationFrame(P)};requestAnimationFrame(P)},[u,r]),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",fontFamily:"Segoe UI, Tahoma, Geneva, Verdana, sans-serif"},children:[(0,n.jsx)("h1",{style:{color:"#004080",marginBottom:"10px"},children:"Graphing Calculator"}),(0,n.jsx)("input",{type:"text",value:r,onChange:e=>t(e.target.value),placeholder:"Enter a function, e.g. sin(a*x+b)+c",style:{width:"450px",padding:"10px",fontSize:"16px",borderRadius:"10px",border:"2px solid #00bfff",marginBottom:"20px",outline:"none"}}),(0,n.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"15px",width:"150px",backgroundColor:"rgba(0,191,255,0.1)",padding:"10px",borderRadius:"10px"},children:["a","b","c"].map(e=>(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsxs)("label",{style:{color:"#004080"},children:[e,": ",u[e].toFixed(2)]}),(0,n.jsx)("input",{type:"range",min:"c"===e?-10:-5,max:"c"===e?10:5,step:.01,value:u[e],onChange:r=>a({...u,[e]:parseFloat(r.target.value)}),style:{width:"100%",accentColor:"#00bfff",height:"8px",borderRadius:"4px"}})]},e))}),(0,n.jsx)("canvas",{ref:e,width:900,height:600,style:{borderRadius:"20px",border:"3px solid #00bfff",boxShadow:"0 0 20px rgba(0,191,255,0.5)"},onMouseMove:r=>{let t=e.current;if(!t)return;let n=t.getBoundingClientRect();F.current={x:(r.clientX-n.left-450)/20,y:(300-(r.clientY-n.top))/20}},onClick:r=>{if(T.current>0)return;let t=e.current;if(!t)return;let n=t.getBoundingClientRect(),c=(r.clientX-n.left-450)/20,l=(300-(r.clientY-n.top))/20;C.current<1e3&&(v.current[C.current]=c,M.current[C.current]=l,A.current[C.current]=.3,S.current[C.current]=1,C.current++,T.current=4)}})]}),(0,n.jsxs)("small",{style:{color:"#004080",marginTop:"10px",maxWidth:"700px",textAlign:"center"},children:["Press ",(0,n.jsx)("b",{children:"Enter"})," to fire the laser (1s cooldown). ",(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"Click"})," to drop a bomb (4s cooldown) that destroys waves. "]})," Adding functions speeds up the game. ",(0,n.jsx)("p",{children:"Aim for the highest score!"})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=9035)),_N_E=e.O()}]);